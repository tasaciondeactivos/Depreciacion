
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Estado del Servidor</title>
    <style>
        body { font-family: sans-serif; background: #f4f4f4; color: #666; text-align: center; padding: 50px 20px; margin: 0; overflow: hidden; touch-action: manipulation; }
        #seccion-error { display: block; }
        #seccion-chat { display: none; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); max-width: 400px; margin: 0 auto; }
        h1 { font-size: 45px; color: #ddd; cursor: pointer; user-select: none; -webkit-user-select: none; margin-bottom: 10px; }
        input { padding: 12px; width: 85%; margin: 10px 0; border: 1px solid #ccc; border-radius: 6px; font-size: 16px; outline: none; }
        .btn-v { padding: 12px 25px; background: #555; color: white; border: none; border-radius: 6px; font-size: 16px; width: 90%; cursor: pointer; }
        #log { text-align: left; height: 250px; overflow-y: auto; border: 1px solid #eee; padding: 10px; margin-bottom: 10px; font-size: 14px; background: #fafafa; }
    </style>
</head>
<body onmousedown="rT()" ontouchstart="rT()">

    <div id="seccion-error">
        <h1 onclick="dC()">Error 404</h1>
        <p>Servidor en mantenimiento programado.</p>
        <div id="p-ln" style="display:none; margin-top: 20px;">
            <input type="password" id="u-ps" placeholder="Identificador" 
                   autocomplete="off" autocorrect="off" autocapitalize="none" 
                   spellcheck="false" inputmode="text">
            <br>
            <button type="button" class="btn-v" onclick="vF()">VERIFICAR</button>
        </div>
    </div>

    <div id="seccion-chat">
        <div id="log"></div>
        <input type="text" id="n-t" placeholder="Escribir registro...">
        <button class="btn-v" onclick="gR()">ENVIAR</button>
        <p><small onclick="location.reload()" style="color:#ddd; cursor:pointer;">Cerrar sistema</small></p>
    </div>

    <script>
        let tO; let cC = 0; let tC;
        const _k1 = "85e334794e22"; const _k2 = "2998a46e9196";
        const _k3 = "720d20e79752"; const _k4 = "531e84e5659f";
        const _k5 = "816c14115169a917";

        function xVal(s) {
            function r(n,v){return(v>>>n)|(v<<(32-n))}
            var str="",l=s.length,h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],
            k=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0x0fc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x06ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664e,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],
            m=[],i,j,a,b,c,d,e,f,g,h0,h1,h2,h3,h4,h5,h6,h7,w=[];s+="\x80";
            while(s.length%64-56)s+="\x00";for(i=0;i<s.length;i++)m[i>>2]|=s.charCodeAt(i)<<(24-8*(i%4));
            m[m.length]=0;m[m.length]=l*8;for(i=0;i<m.length;i+=16){a=h[0];b=h[1];c=h[2];d=h[3];e=h[4];f=h[5];g=h[6];h0=h[7];
            for(j=0;j<64;j++){if(j<16)w[j]=m[i+j];else{var x=w[j-15],y=w[j-2];w[j]=(w[j-16]+(r(7,x)^r(18,x)^(x>>>3))+w[j-7]+(r(17,y)^r(19,y)^(y>>>10)))|0}
            var t1=(h0+(r(6,e)^r(11,e)^r(25,e))+(g^(e&(f^g)))+k[j]+w[j])|0,t2=((r(2,a)^r(13,a)^r(22,a))+(a&b|c&(a|b)))|0;
            h0=g;g=f;f=e;e=(d+t1)|0;d=c;c=b;b=a;a=(t1+t2)|0}h[0]=(h[0]+a)|0;h[1]=(h[1]+b)|0;h[2]=(h[2]+c)|0;h[3]=(h[3]+d)|0;h[4]=(h[4]+e)|0;h[5]=(h[5]+f)|0;h[6]=(h[6]+g)|0;h[7]=(h[7]+h0)|0}
            for(i=0;i<8;i++){for(j=3;j>=0;j--)str+='0123456789abcdef'.charAt((h[i]>>>(j*4+4))&0xf)+'0123456789abcdef'.charAt((h[i]>>>(j*4))&0xf)}return str;
        }

        function dC() {
            cC++; clearTimeout(tC);
            if (cC === 5) { document.getElementById('p-ln').style.display = 'block'; cC = 0; }
            else { tC = setTimeout(() => { cC = 0; }, 2000); }
        }

        function vF() {
            const v = document.getElementById('u-ps').value.trim().toLowerCase();
            if (!v) return;
            if (xVal(v) === (_k1+_k2+_k3+_k4+_k5)) {
                document.getElementById('seccion-error').style.display = 'none';
                document.getElementById('seccion-chat').style.display = 'block';
                rT();
            } else { document.getElementById('u-ps').value = ""; }
        }

        function rT() {
            clearTimeout(tO);
            if (document.getElementById('seccion-chat').style.display === 'block') {
                tO = setTimeout(() => { location.reload(); }, 20000); 
            }
        }

        function gR() {
            const c = document.getElementById('n-t');
            if (c.value !== "") {
                const l = document.getElementById('log');
                l.innerHTML += "<div>â€¢ " + c.value + "</div>";
                c.value = ""; l.scrollTop = l.scrollHeight; rT();
            }
        }

        document.addEventListener("visibilitychange", () => { if (document.hidden) location.reload(); });
    </script>
</body>
</html>
